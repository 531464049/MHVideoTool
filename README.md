# MHVideoEDecoder
## 视频编码-解码-播放
## 视频采集-编码-推流-播放
### 采集编码推流来自[https://www.jianshu.com/u/1240d2400ca1] 感谢hard_man[https://github.com/hardman/AWLive]
### 推流流程
### 使用rtmp协议（其他协议也类似）推流的大体流程如下：

### 通过系统相机捕获视频及声音，该美颜的美颜，该滤镜的滤镜。
### 捕获的视频帧为yuv格式，音频帧为pcm格式。
### 将捕获的音视频数据，传入一个串行队列(编码队列)，在队列中进行编码操作。
### 将yuv格式视频数据，转成h264格式视频帧；将pcm格式音频数据，转成aac格式音频帧。
### 将转好的h264及aac格式数据，转成flv视频帧。放入编码缓冲区，待发送。继续获取视频帧并编码。
### 建立rtmp连接到服务器，成功后，创建另一个串行队列（发送队列）。
### rtmp协议，需要在首帧发送 sps/pps和AudioSpecificConfig这2种特别的帧数据。
### 发送了首帧之后，发送队列不停从编码队列中获取flv视频帧，发送至rtmp服务端。
### 结束直播，关闭推流，释放资源。

